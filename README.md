# test_scenario

---

## ✅ 1. **백엔드 테스트**
> REST API, 비즈니스 로직, 인증/인가, 예외 처리 등 검증

| 테스트 종류 | 설명 | 도구/방법 | 체크포인트 |
|-------------|------|-----------|------------|
| 단위 테스트 | 함수, 모듈 단위 테스트 | `pytest`, `JUnit`, `unittest` | 로직 정확성, 예외 처리 |
| 통합 테스트 | DB/API 등 외부 연동 포함 | `Spring Test`, `pytest-django`, Postman | 연동 정상 여부 |
| API 테스트 | HTTP 요청/응답 검증 | Postman, Swagger, REST Assured | 응답 형식, 코드, 속도 |
| 시나리오 테스트 | 사용자 흐름대로 API 연결 테스트 | Postman Collection Runner, k6 | 주문 → 결제 흐름 등 |
| 부하 테스트 | 높은 트래픽에 대한 처리 | `k6`, `Locust`, `JMeter` | 성능 한계, 스로틀링 |

> ✅ **실무팁**: Postman으로 자동화된 Collection 테스트 작성 → CI에 통합

---

## ✅ 2. **프론트엔드 테스트**
> UI 렌더링, 사용자 상호작용, 네트워크 요청/응답 등 검증

| 테스트 종류 | 설명 | 도구/방법 | 체크포인트 |
|-------------|------|-----------|------------|
| 단위 테스트 | 컴포넌트/함수 단위 테스트 | `Jest`, `React Testing Library` | 렌더링, 이벤트 처리 |
| E2E 테스트 | 브라우저 기반 시나리오 테스트 | `Cypress`, `Playwright` | 로그인 → 장바구니 등 |
| 접근성 테스트 | 장애인 접근성 체크 | `axe-core`, Lighthouse | 키보드 네비게이션 등 |
| 반응형 테스트 | 다양한 해상도에서 UI 테스트 | Chrome DevTools, Percy | 모바일/태블릿 UI |
| 성능 테스트 | 렌더링 속도, 번들 크기 확인 | `Lighthouse`, `Web Vitals` | FCP, TTI, LCP 등 |

> ✅ **실무팁**: Cypress로 E2E 테스트 자동화 → PR 시 GitHub Action으로 실행

---

## ✅ 3. **인프라 테스트**
> 서버 자원, 네트워크, 쿠버네티스, 로깅, 알람 등 검증

| 테스트 종류 | 설명 | 도구/방법 | 체크포인트 |
|-------------|------|-----------|------------|
| 헬스체크 테스트 | 서비스 상태 확인 | `curl /health`, `readinessProbe` | 정상 응답 여부 |
| 배포 테스트 | CI/CD 후 상태 검증 | `ArgoCD`, `Helm test` | 정상 기동 여부 |
| 로그 수집 테스트 | 로그 수집 파이프라인 확인 | Loki, Promtail, Fluent Bit | 로그 정상 수집/검색 |
| 부하 시 스케일링 | HPA 작동 확인 | `k6`, `kubectl top` | 자동 pod 증가 여부 |
| 장애 복구 테스트 | 노드 장애 시 복구 여부 | `cordon`, `drain` 테스트 | 재스케줄 정상 동작 |

> ✅ **실무팁**: 헬스체크 실패 시 `Slack` 알람 + `SNS` 연동으로 대응 체계화

---

## ✅ 4. **DB 테스트**
> 쿼리 성능, 데이터 무결성, 트랜잭션, 스키마 검증

| 테스트 종류 | 설명 | 도구/방법 | 체크포인트 |
|-------------|------|-----------|------------|
| 단위 쿼리 테스트 | SQL 쿼리 검증 | `psql`, `MySQL CLI`, ORM Test | 정확한 결과, 예외 처리 |
| 트랜잭션 테스트 | 롤백/커밋 정상 동작 확인 | 테스트 DB로 실행 | 에러 발생 시 롤백 여부 |
| 마이그레이션 테스트 | 스키마 변경 테스트 | `Flyway`, `Liquibase` | 버전간 데이터 호환성 |
| 성능 테스트 | 쿼리 실행 속도 측정 | `EXPLAIN`, `Slow Query Log` | 인덱스 필요 여부 |
| 데이터 정합성 테스트 | 제약조건, 참조 무결성 확인 | `NOT NULL`, `FOREIGN KEY` | 잘못된 입력 차단 |

> ✅ **실무팁**: 마이그레이션 테스트는 스테이징 환경에서 먼저 검증하고 본배포

---

## 🎯 통합 테스트 전략 (실무에서 자주 사용)
- **단계별로 나눠 실행**: 단위 → 통합 → E2E
- **테스트 자동화 도입**: GitHub Actions, GitLab CI/CD에 통합
- **테스트 커버리지 측정**: 백엔드 (`coverage.py`, `jacoco`), 프론트 (`jest --coverage`)
- **테스트 전용 환경 구성**: Staging / Dev / Test DB 분리

---

## ✨ 예시: 테스트 구성 흐름도
```
[Pull Request 발생]
     ↓
[1. 백엔드 단위/통합 테스트 (pytest, JUnit)]
     ↓
[2. 프론트엔드 단위/E2E 테스트 (Jest, Cypress)]
     ↓
[3. CI 배포 후 스테이징 환경 자동화 테스트]
     ↓
[4. 부하 테스트 (k6) + 로그 및 리소스 확인]
     ↓
[5. QA 승인 후 실환경 배포]
```
